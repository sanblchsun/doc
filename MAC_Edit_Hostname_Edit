Kali Linux смена после reboot MAC адреса и имя хоста.
в bash пишем 
crontab -e
и пишем в этот файл:
@reboot macchanger -r eth0 && /root/cron.sh

а в скрипт /root/cron.sh  пишем:
#!/bin/bash
hostnamectl set-hostname $RANDOM
ip link set dev eth0 promisc on

скрипт /root/cron.sh делаем исполняемым
chmod +x /root/cron.sh

Вот статья на этот счет.

смена MAC-адреса в виртуальной машине обрывает Интернет-подключение только для проводного интерфейса. Для беспроводных сетевых интерфейсов Wi-Fi (подключённых по USB) смена MAC-адреса не ведёт ни к каким проблемам, 
они работают нормально, подключение к сети присутствует.

Возможных причин такого поведения две:

1. Какой бы MAC-адрес не был прошит в сетевой карте, конечное решение, принимать или не принимать пакет, делает ядро операционной системы.
Это в случае физического компьютера. В случае виртуального компьютера, это решение за программой VirtualBox, которая может быть не в курсе, что именно происходит в виртуальной машине и что она поменяла MAC-адрес 
(например, при помощи программы macchanger). Поэтому VirtualBox не знает о новом MAC-адресе и не пересылает на него Ethernet кадры.

2. Отличия проводных и беспроводных сетей очевидны: в беспроводных сетях радиоволны распространяются свободно и каждое устройство в пределах досягаемости имеет доступ к абсолютно всем передаваемым кадрам. 
Что касается проводной сети, то отправитель пересылает Ethernet кадры на определённый порт (в смысле на сетевой порт устройства). То есть возможно, что данные просто не отсылаются отправителем на новый MAC-адрес, 
поскольку он ничего не знает о нём.

Тем не менее некоторые пользователи написали, что им удалось заставить работать проводной интерфейс в виртуальной машине после смены MAC-адреса — для этого они перевели его в неразборчивый режим. 
У меня этот способ не сработал (сеть по-прежнему недоступна), но вы можете попробовать самостоятельно (замените имя интерфейса eth0 на своё):


sudo macchanger -s eth0 # проверяем текущий MAC-адрес
sudo macchanger -r eth0 # меняем MAC-адрес на случайный
sudo ip link set dev eth0 promisc on # переводим сетевой интерфейс в неразборчивый режим
ping 8.8.8.8 # проверяем, работает ли сеть
# sudo macchanger -p eth0 # возвращаем старый MAC-адрес если сеть не работает
Что касается беспроводных интерфейсов в виртуальной машине, то там всё работает без необходимости перевода сетевого интерфейса в неразборчивый режим.

Команды для смены MAC-адреса Wi-Fi карты (замените имя интерфейса wlan0 на своё):


sudo ip link set dev wlan0 down # это обязательно
sudo macchanger -s wlan0 # проверяем текущий MAC-адрес
sudo macchanger -r wlan0 # меняем MAC-адрес на случайный
sudo ip link set dev wlan0 up # это обязательно
# sudo macchanger -p wlan0 # если нужно, возвращаем старый MAC-адрес
